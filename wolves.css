/**
 *------
 * BGA framework: © Gregory Isabelli <gisabelli@boardgamearena.com> & Emmanuel Colin <ecolin@boardgamearena.com>
 * Wolves implementation : © <Your name here> <Your email address here>
 *
 * This code has been produced on the BGA studio platform for use on http://boardgamearena.com.
 * See http://en.boardgamearena.com/#!doc/Studio for more information.
 * -----
 */

:root {
    --hex-width: 119px;
    --hex-height: 103px;
    --hex-half-height: 51px;
}

#wolves-land-container {
    width: 100%;
}

#wolves-land {
    position: relative;
    transform-origin: top left;
}

#player-board {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    height: 500px;
}

#player-tiles {
    width: 100%;
    height: 230px;
    display: flex;
    justify-content: center;
}

#action-buttons {
    width: 100%;
    height: 200px;
    display: flex;
    justify-content: center;
}

.player-tile {
    --color: black;
    height: 100%;
    width: calc(100% / 7);
    position: relative;
    background-color: var(--color);
}

.player-tile[data-terrain="rock"] {
    --color: dimgray;
}

.player-tile[data-terrain="grass"] {
    --color: lightgreen;
}

.player-tile[data-terrain="tundra"] {
    --color: ghostwhite;
}

.player-tile[data-terrain="desert"] {
    --color: sandybrown;
}

.player-tile[data-terrain="forest"] {
    --color: darkgreen;
}

.wolves-region {
    position: absolute;
    width: 440px;
    height: 412px;
    clip-path: polygon(
            18.75% 25%, 25% 12.25%, 37.25% 12.25%, 43.75% 0, 56.25% 0, 62.5% 12.25%, 75% 12.25%, 81.25% 0,
            93.75% 0, 100% 12.5%, 93.75% 25%, 100% 37.5%, 93.75% 50%, 100% 62.5%, 93.75% 75%,
            81.25% 75%, 75% 87.5%, 62.5% 87.5%, 56.25% 100%, 43.75% 100%, 37.25% 87.5%, 25% 87.5%, 18.75% 100%,
            6.25% 100%, 0 87.5%, 6.25% 75%, 0 62.5%, 6.25% 50%, 0 37.5%, 6.25% 25%);
}

.wolves-region-rotated {
    transform: rotate(180deg);
    transform-origin: center;
}

.wolves-hex {
    position: absolute;
    width: var(--hex-width);
    height: var(--hex-height);
    pointer-events: none;
}

.wolves-hex-selector {
    position: absolute;
    width: 100%;
    height: 100%;
    clip-path: polygon(0 50%, 25% 0, 75% 0, 100% 50%, 75% 100%, 25% 100%);
    pointer-events: all;
}

.wolves-hex-selector:hover {
    background-color: black !important;
}

.wolves-hex-water > .wolves-hex-selector:hover {
    background-color: revert !important;
}

.wolves-hex-grass > .wolves-hex-selector {
    background-color: lightgreen;
}

.wolves-hex-rock > .wolves-hex-selector {
    background-color: dimgray;
}

.wolves-hex-tundra > .wolves-hex-selector {
    background-color: ghostwhite;
}

.wolves-hex-desert > .wolves-hex-selector {
    background-color: sandybrown;
}

.wolves-hex-forest > .wolves-hex-selector {
    background-color: darkgreen;
}

.wolves-hex-water > .wolves-hex-selector {
    background-color: blue;
}

.wolves-selectable > .wolves-hex-selector {
    border: 2px solid blueviolet;
}

.wolves-selectable > .wolves-hex-selector:hover {
    background-color: blueviolet !important;
}

.wolves-piece {
    position: relative;
    width: var(--hex-width);
    height: var(--hex-height);
}

.wolves-piece-selector {
    position: absolute;
    width: 100%;
    height: 100%;
    clip-path: polygon(0 50%, 25% 0, 75% 0, 100% 50%, 75% 100%, 25% 100%);
    pointer-events: none;
}

.wolves-selectable > .wolves-piece-selector {
    border: 2px solid blueviolet;
    pointer-events: all;
}

.wolves-piece-top > .wolves-piece-selector {
    clip-path: polygon(0 100%, 25% 0, 75% 0, 100% 100%);
}

.wolves-piece-bottom > .wolves-piece-selector {
    clip-path: polygon(0 0, 25% 100%, 75% 100%, 100% 0);
}


.wolves-piece-top, .wolves-piece-bottom {
    height: var(--hex-half-height) !important;
}

.wolves-piece-sprite {
    background-color: transparent;
    background-image: url("img/wolves.png");
    background-origin: content-box;
    background-clip: content-box;
    pointer-events: none;
}

.wolves-selectable > .wolves-piece-selector:hover + .wolves-piece-sprite {
    animation-name: pulse;
    animation-direction: alternate;
    animation-timing-function: ease-out;
    animation-iteration-count: infinite;
    animation-duration: 0.5s;
}

@keyframes pulse {
    from { opacity: 100% }
    to { opacity: 20% }
}

.wolves-piece-sprite {
    width: var(--piece-width);
    height: var(--piece-height);
    transform: scale(150%);
    transform-origin: center;
    background-position: 0 calc(var(--piece-sprite-y) * -1);
    padding-left: calc((var(--hex-width) - var(--piece-width)) / 2);
    padding-top: calc((var(--hex-height) - var(--piece-height)) / 2);
}

.wolves-piece[data-kind="0"] > .wolves-piece-sprite {
    --piece-width:  50px;
    --piece-height: 48px;
    --piece-sprite-y: 32px;
}

.wolves-piece[data-kind="1"] > .wolves-piece-sprite {
    --piece-width:  44px;
    --piece-height: 32px;
    --piece-sprite-y: 0px;
}

.wolves-piece[data-kind="2"] > .wolves-piece-sprite {
    --piece-width:  50px;
    --piece-height: 44px;
    --piece-sprite-y: 80px;
}

.wolves-piece[data-kind="3"] > .wolves-piece-sprite {
    --piece-width:  50px;
    --piece-height: 54px;
    --piece-sprite-y: 124px;
}

.wolves-piece[data-kind="4"] > .wolves-piece-sprite {
    --piece-width:  72px;
    --piece-height: 72px;
    --piece-sprite-y: 218px;
    transform: none;
}

.wolves-piece[data-kind="5"] > .wolves-piece-sprite {
    --piece-width:  50px;
    --piece-height: 40px;
    --piece-sprite-y: 178px;
}

.wolves-piece-top > .wolves-piece-sprite, .wolves-piece-bottom > .wolves-piece-sprite {
    padding-top: calc((var(--hex-half-height) - var(--piece-height) * 6 / 4) / 2);
}

.wolves-piece[data-owner="1"] > .wolves-piece-sprite {
    background-position: calc(var(--piece-width) * -1) calc(var(--piece-sprite-y) * -1);
}

.wolves-piece[data-owner="2"] > .wolves-piece-sprite {
    background-position: calc(var(--piece-width) * -2) calc(var(--piece-sprite-y) * -1);
}

.wolves-piece[data-owner="3"] > .wolves-piece-sprite {
    background-position: calc(var(--piece-width) * -3) calc(var(--piece-sprite-y) * -1);
}

.wolves-piece[data-owner="4"] > .wolves-piece-sprite {
    background-position: calc(var(--piece-width) * -4) calc(var(--piece-sprite-y) * -1);
}

.wolves-player-status {
    display: flex;
    gap: 4px
}

#wolves-boards {
    display: flex;
    flex-wrap: wrap;
}

#wolves-calendar {
    position: relative;
    background-image: url("img/calendar2_3p.jpg");
    width: 472px;
    height: 296px;
    border-radius: 4px;
}

.wolves-calendar-space {
    position: absolute;
    width: 54px;
    height: 54px;
}

.wolves-calendar-space .wolves-piece-sprite {
    padding: 0;
}

.wolves-moving {
    animation-name: follow-path;
    animation-duration: 1500ms;
    animation-timing-function: ease;
    animation-fill-mode: forwards;
    z-index: 2;
}

@keyframes follow-path {
    from { offset-distance: 0; }
    to { offset-distance: 100%; }
}